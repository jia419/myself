select * from sys_users
drop procedure input1
go
create procedure input1 
as 
select  top 1* from identify order by NEWid()
go

drop procedure login1
go
create procedure login1 @s1 char(50),@s2 char(50)
as 
select  COUNT(*) as n2,(select  COUNT(*) from sys_users where username=@s1) as n1 from sys_users where password=@s2 and username=@s1 
go
drop procedure login2
go
create procedure login2 @s1 char(50),@s2 char(50)
as 
select  COUNT(*) as n2,(select  COUNT(*) from company where companyname=@s1) as n1 from company where password=@s2 and companyname=@s1 
go
select * from company
drop table company
create table company(
companyid char(150) primary key,
companyname char(100),
address char(250),
phone bigint,
password char(250),
note varchar(550)
)
insert into company values('A1001','北京金龙有限公司','北京王府井','201533331234','B1001','本公司建于1997年，公司建立了一整套以 UCenter 为基础的社区解决方案，包含了 Discuz!/UCenter Home/SupeSite 等被用户广泛使用的社区产品，并致力于社区的技术创新和平台化运营。'),
('A1002','南京玩具有限公司','重庆什么路','201533331235','B1002','其中，公司核心社区产品 Discuz!，是全球范围内用户量最大、覆盖面最广的社区论坛（BBS）产品。作为一套成熟的社区论坛解决方案，Discuz! 的每一次升级都引领着中国互联网的社区化、社交化潮流。'),
('A1003','什锦食品有限公司','四川泸州','201533331236','B1003','经过七年多的发展，Discuz! 所建立的社区技术体系和人机交互模型，已成为了互联网社区产品事实上的标准，被广大用户和开发者广泛认同和采纳。'),
('A1004','安跃迈科有限公司','南京','201533331237','B1004','秉承为用户创造价值的理念，Comsenz 还推出了面向社交网络应用（Applications）开发者的漫游开放平台（Manyou Open Platform），这一重要的创新性服务有效的实现了网站主和应用开发者之间的对接，帮助 UCenter Home 和 Discuz! 使用者提供可与大型社区网站相媲美的架构和功能，更好的服务于他们的用户。'),
('A1005','迈光尚裕有限公司','上海','201533331238','B1005','目前，全球有超过 200 万家独立网站采用 Comsenz 平台或核心技术建立了自身的社区平台（包括讨论区、社交网络、社区门户等）。同时，Comsenz 也是中国开放源代码（Open Source）软件产品的一面旗帜，公司旗下产品 Discuz!/UCenter Home 等均被业界、第三方研究机构和媒体公认为本土软件中最具典型的开源案例。'),
('A1006','联同蓝维有限公司','杭州西湖','201533331239','B1006','除了完善的产品解决方案以外，Comsenz 还建立了 Insenz 社区营销平台和 Yeswan 游戏运营平台。依托于独有的用户优势，Insenz 和 Yeswan 为广告主及游戏提供商提供了一系列创新型社区营销服务，这使得互联网社区首次拥有了真正符合其价值特性、并极具可操作性的独特盈利模式，从而为广告主、游戏提供商及社区运营者创造了新的价值回报。'),
('A1007','天优吉玛有限公司','湖州','201533331240','B1007','Comsenz 还与全球领先的PHP技术领导者 Zend Technologies 建立了良好的合作关系，双方合作建立的中国最大的 PHP 开源技术社区 PHPChina.com，现已成为中国 PHP 和开源领域的一面旗帜。'),
('A1008','裕汇隆方有限公司','台湾','201533331241','B1008','Comsenz 起始于社区，专注于社区，基于多年来在互联网社区领域的成熟经验和影响力，公司在 2006 年、2007 年分别获得了包括华尔街顶级风险投资商红杉资本（Sequoia Capital）、著名风险投资公司晨兴创投（Morningside Ventures）以及搜索引擎巨头谷歌（Google）公司在内的多家基金及企业的投资，而 Comsenz 将以雄厚的研发和运营实力为后盾'),
('A1009','隆海德优有限公司','北京','201533331242','B1009','向中国互联网产业输出源源不断的“社区动力”，帮助每个网站建立和拥有自己的社区，帮助每个社区实现真正的 Web 2.0 应用，并协助每个有黏性的社区实现赢利。'),
('A1010','天磊速迅有限公司','新疆','201533331243','B1010','经过七年多的发展，Discuz! 所建立的社区技术体系和人机交互模型，已成为了互联网社区产品事实上的标准，被广大用户和开发者广泛认同和采纳。')
select * from company
drop procedure com1
go
create procedure com1 @s1 char(250)
as
select * from company where companyname=@s1
go
drop table recruit
create table recruit(
recruitid char(100) primary key,
companyname char(250),
recruitname char(250),
number int,
require1 char(100),
require2 char(100),
require3 char(100),
note char(250),
createdate datetime,
deletedate datetime,
datex int
)

insert into recruit values('C1001','北京金龙有限公司','前台销售人员','3','大专学历','三年工作经验','','','2017-1-15','2017-2-2','18'),
('C1002','北京金龙有限公司','编程人员','5','大学学历','有项目经验','男','最好有单独完成一个项目的经历','2017-3-5','2017-3-7','2'),
('C1003','南京玩具有限公司','公关人员','2','性格开朗','女','','','2017-1-4','2017-1-18','14'),
('C1004','南京玩具有限公司','保洁人员','6','勤劳','身体健康','60岁以下','','2017-6-15','2017-6-20','5'),
('C1005','什锦食品有限公司','销售部经理','1','大学学历','良好交流性格','年薪10万人民币','招聘者需在招聘时需对我们公司提出销售建议','2017-8-16','2017-8-25','9'),
('C1006','什锦食品有限公司','食品试吃人员','5','身体健康','无偏食，无过敏经历','','','2017-6-30','2017-7-9','9'),
('C1007','什锦食品有限公司','食品包装人员','13','年龄在60岁以下','月薪2000人民币','','','2017-4-15','2017-4-18','3'),
('C1008','安跃迈科有限公司','前台接待人员','4','性格人品良好','女','','前三个月是培训期，无工资，正式上岗后月薪2000人民币','2017-1-15','2017-1-20','5'),
('C1009','安跃迈科有限公司','客户电话提示人员','6','大专学历','有耐心','声音最少是好听的','月薪2000人民币，前一个月半薪','2017-2-13','2017-2-20','7'),
('C1010','迈光尚裕有限公司','产品体验人员','2','大专学历','对生活品质有要求','','每次体验都要形成书面形式的报告','2017-9-15','2017-9-23','8'),
('C1011','联同蓝维有限公司','销售人员','2','中专学历','交际能力强','应酬能力强','','2017-4-2','2017-4-25','23'),
('C1012','联同蓝维有限公司','产品体验人员','2','大专学历','对此产品有独特爱好','','','2017-11-15','2017-12-7','22'),
('C1013','联同蓝维有限公司','产品开发人员','4','博士学历','专业领域包括此类产品开发','对此类产品有领先市场的研究理念与工作','招聘者只需在规定时限内上交工作进度，不严格要求工作固定空间','2017-7-1','2017-7-21','20'),
('C1014','天优吉玛有限公司','生产部经理','1','拥有海外生产经验','在国外生产此类产品超过3年','','','2017-12-6','2017-12-9','3'),
('C1015','裕汇隆方有限公司','产品试验人员','5','身心健康','自愿参加','','','2017-6-15','2017-6-25','10'),
('C1016','隆海德优有限公司','市场宣传人员','5','大专学历','','','','2017-2-22','2017-2-26','4'),
('C1017','隆海德优有限公司','总经理助理','2','大学学历','文本实力扎实','','','2017-5-15','2017-5-19','4'),
('C1018','天磊速迅有限公司','送货人员','2','身体健康','男','年龄45岁以下','','2017-6-5','2017-6-27','22'),
('C1019','天磊速迅有限公司','创意总监','1','大学学历','在此领域有10年工作经验','年薪30万人民币','','2017-7-15','2017-8-7','23')

drop procedure recpro1
go
create procedure recpro1 @s1 char(100)
as
select rtrim(recruitid) as id,rtrim(recruitid)+''+rtrim(recruitname)+'	'+RTRIM(datex)+'(天)' as name from recruit where datex<'7' and companyname=@s1
go

drop procedure recpro2
go
create procedure recpro2 @s2 char(100)
as
select rtrim(userid) as id,rtrim(userid)+' '+rtrim(username) as name2 from sys_users where recruited='1' and recruitid=@s2
go

select * from sys_user2
A2013040018
select * from recruit
select * from company
if object_id('customers2') IS NOT NULL drop table customers2
CREATE TABLE customers2(
	customerid char(50) primary key,
	name char(100),
	gender char(50),
	areaid char(100),
	phone int,
	email char(100),
	adress char(100),
	qq char(100),
	birthdate date,
	weixin char(100)
)
insert into customers2 values('C2013','朱翼','男','120000','15611245','157578@qq.com','天津市','157578','1997-2-19','zh49id'),
('C2014','秦婷婷','女','120200','15611246','157579@qq.com','天津市属县','157579','1997-2-19','zh49id'),
('C2015','折蓉蓉','女','120221','15611247','157580@qq.com','天津市宁河县','157580','1997-2-19','zh49id'),
('C2016','曹丽娜','女','120223','15611248','157581@qq.com','天津市静海县','157581','1997-2-19','zh49id'),
('C2017','刘彬彬','男','120221','15611249','157582@qq.com','天津市宁河县','157582','1997-2-19','zh49id'),
('C2018','唐芳','女','120223','15611250','157583@qq.com','天津市静海县','157583','1997-2-19','zh49id'),
('C2019','陈科生','男','120223','15611251','157584@qq.com','天津市静海县','157584','1997-2-19','zh49id'),
('C2020','谭军红','男','120221','15611252','157585@qq.com','天津市宁河县','157585','1997-2-19','zh49id'),
('C2021','刘艳芳','女','120223','15611253','157586@qq.com','天津市静海县','157586','1997-2-19','zh49id'),
('C2022','周彦楠','男','120000','15611254','157587@qq.com','天津市','157587','1997-2-19','zh49id'),
('C2023','王晶 ','男','120223','15611255','157588@qq.com','天津市静海县','157588','1997-2-19','zh49id'),
('C2024','肖东菁 ','女','120221','15611256','157589@qq.com','天津市宁河县','157589','1997-2-19','zh49id'),
('C2025','邓天文','男','120100','15611257','157590@qq.com','天津市','157590','1997-2-19','zh49id'),
('C2026','邓天文','男','120100','15611258','157591@qq.com','天津市','157591','1997-2-19','zh49id'),
('C2027','廖丽霞','女','120100','15611259','157592@qq.com','天津市','157592','1997-2-19','zh49id'),
('C2028','朱佳婧','女','120000','15611260','157593@qq.com','天津市','157593','1997-2-19','zh49id'),
('C2029','韩冬 ','男','120100','15611261','157594@qq.com','天津市','157594','1997-2-19','zh49id'),
('C2030','孙巍','男','120223','15611262','157595@qq.com','天津市静海县','157595','1997-2-19','zh49id')
if object_id('orders2') IS NOT NULL drop table orders2
CREATE TABLE orders2(
	customerid char(50) ,
	orderid char(50) primary key,
	severice char(100),
	time1 char(50),
	date1 date,
	request char(250)
)
insert into orders2 values('C2013','O1001','定做一个商务系统','6天','2018-3-05','要求系统可以和外网链接……'),
('C2013','O1002','监察方案','7天','2018-3-25','要求系统可以和外网链接……'),
('C2013','O1003','定做联系网站','14天','2018-4-10','要求系统可以和外网链接……'),
('C2013','O1004','设计项目报告','5天','2018-7-05','要求系统可以和外网链接……'),
('C2013','O1005','考察数据准确性','8天','2018-9-05','要求系统可以和外网链接……'),
('C2014','O1006','考察基地','19天','2018-9-05','要求系统可以和外网链接……')

select * from orders2
drop table staff
create table staff(
	staffid char(50) primary key,
	name char(100),
	position char(100),
	phone int,
	email char(100),
	adress char(100),
	experience char(250),
	contribution char(100),
	educational char(100),
	parentnodeid nchar(50),
	isparentflag tinyint,
	ancester nvarchar(255),
	level tinyint
)
insert into staff values('1','张三','总经理','1561125511','15611251@163.com','北京王府井','做销售工作5年，助理3年，经公司送去国外深造两年','攻克了公司10年的亏本情况','一本','','1','','1'),
('101','李四','副总经理','1561125512','15611252@163.com','重庆什么路','总理秘书3年','带领销售部创造过最佳销售成绩','一本','1','0','1#','2'),
('102','萨达','总经理秘书','1561125513','15611253@163.com','四川泸州','销售工作做过5年','为销售部创造过最佳销售成绩','一本','1','0','1#','2'),
('103','伊思达','销售部长','1561125514','15611254@163.com','南京','应届大学毕业生','实习期间表现优异','二本','1','1','1#','2'),
('10301','胡可','销售部员工','1561125515','15611255@163.com','上海','开过个体书店5年','为销售部创造过最佳销售成绩','大专','103','0','1#103#','3'),
('10302','张军','销售部员工','1561125516','15611256@163.com','杭州西湖','经营化妆品店7年','','一本','103','0','1#103#','3'),
('104','王珊','人力资源部部长','1561125517','15611257@163.com','湖州','应届大学毕业生','','大专','1','1','1#','2'),
('10401','李虎','人力资源部员工','1561125518','15611258@163.com','台湾','微商2年','实习期间表现优异','二本','104','0','1#104#','23'),
('10402','小娥','人力资源部员工','1561125519','15611259@163.com','北京','应届大学毕业生','带领销售部创造过最佳销售成绩','二本','104','0','1#104#','3'),
('10403','董伟','人力资源部员工','1561125520','15611260@163.com','新疆','总理秘书3年','实习期间表现优异','一本','104','0','1#104#','3')
select * from staff
select * from booktwos
drop procedure mycom1
go
create procedure mycom1 @pnodeid varchar(20)
as
select rtrim(bookid) as 'id', rtrim(bookid)+' '+rtrim(bookname) as 'text',*
	from booktwos where ParentNodeID=@pnodeid
	order by rtrim(ancester)+bookid
go

drop procedure tree1
go
create procedure tree1 
as
select rtrim(areaID) as 'id',rtrim(areaID)+'	'+rtrim(areaname) as 'text',* from areas
	order by rtrim(ancester)+areaid
go


drop procedure customerspro
go
create procedure customerspro @s1 char(50)
as
select * from Customers where CustomerID=@s1
go
select * from customers
drop table staff2
create table staff2(
	staffid char(50),
	staff2id char(50) ,
	jixiao int,
	moneys int
)
insert into staff2 values('1','1','80','2000'),
('1','2','60','1800'),
('1','3','50','1500'),
('1','4','90','2300'),
('1','5','100','2500'),
('1','6','80','2000'),
('1','7','90','2300'),
('1','8','40','1000'),
('1','9','30','1000'),
('1','10','40','1000'),
('1','11','70','1800'),
('1','12','80','2000'),
('101','1','70','1600'),
('101','2','60','1800'),
('101','3','50','1500'),
('101','4','20','600'),
('101','5','70','1600'),
('101','6','80','2000'),
('101','7','90','2300'),
('101','8','40','1000'),
('101','9','30','1000'),
('101','10','40','1000'),
('101','11','70','1800'),
('101','12','90','2400')
select * from staff2